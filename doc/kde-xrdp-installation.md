# åœ¨ KDE & X11 ç¯å¢ƒä¸‹é…ç½® XRDP è¿œç¨‹æ¡Œé¢

## ä¸ºä»€ä¹ˆé€‰æ‹© xrdp

é¦–å…ˆæˆ‘çš„æœ€ä¸»è¦è¯‰æ±‚æ˜¯ã€Œç”¨çš„èˆ’æœã€ï¼šç”»é¢è¦æ¸…æ™°æµç•…ã€é€‚é… Retina Macï¼Œèƒ½è‡ªåŠ¨è°ƒèŠ‚åˆ†è¾¨ç‡ï¼Œæœ€èµ·ç çš„å‰ªè´´æ¿äº’åŠ¨è¦æœ‰ã€‚æœäº†ä¸€åœˆå‘ç° VNC è¿™ç±»æ²¡æœ‰æ˜ç¡®çš„è¯´æ³•è¡¨æ˜æ˜¯å¦æ”¯æŒï¼Œä¹Ÿä¸æ˜¯å¾ˆæƒ³ç”¨å•†ä¸šçš„è¿œæ§è½¯ä»¶ï¼›å’¨è¯¢ Copilotï¼Œç»™æˆ‘æ¨èäº† ```xrdp```ã€‚

ä¸€å¼€å§‹æ²¡æƒ³ç€èƒ½å¤šä¹ˆæƒŠè‰³ï¼Œæ¯•ç«Ÿå¤ç”¨çš„æ˜¯å¾®è½¯çš„ä¸œè¥¿ï¼ˆå¾®è½¯å’Œå¼€æºçš„å…³ç³»æ‡‚å¾—éƒ½æ‡‚ï¼‰ï¼›ä½†æ˜¯ä¸€åœˆè£…ä¸‹æ¥å‘ç°æ•ˆæœéå‡¡çš„å¥½ï¼Œä¼˜åŒ–ä¸€ä¸‹å¯ä»¥åª²ç¾åŸç”Ÿäº†ã€‚é‚æ’°æ–‡ä»¥è®°ä¹‹ã€‚

é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¾ˆé•¿æ—¶é—´æ²¡å»å†™æŠ€æœ¯ç±»æ•™ç¨‹ / æ–‡ç« äº†ï¼›æœ€è¿‘å‚åŠ äº† AOSCCï¼Œæƒ³æŠŠåšå¼€æºå½“ä¸ªäººç”Ÿçˆ±å¥½åŸ¹å…»ä¸€ä¸‹ï¼Œäºæ˜¯æŠ˜è…¾ç€è£…äº† å®‰åŒ OSï¼Œäºæ˜¯æœ‰äº†æœ¬æ–‡ã€‚bç«™ã€å°çº¢ä¹¦ä¸Šä¸å°‘äººè¯´äººæ˜¯è¦æœ‰ä¸ªè¾“å‡ºå‹çˆ±å¥½çš„ï¼Œé‚£æˆ‘å°±å§‘ä¸”åœ¨è¿™è¾“å‡ºè¾“å‡ºå§ï¼Œæ­£å¥½ä¹Ÿé”»ç‚¼ä¸€ä¸‹æˆ‘æŠ€æœ¯å‘çš„è¡¨è¾¾èƒ½åŠ›ï¼Œçœçš„å¯¼å¸ˆå†è§‰å¾—æˆ‘ä¸€å¤©å¤©å•¥ä¹Ÿä¸å¹²ğŸ˜„ã€‚

è¿™æ¬¡æ‹¿äº†ä¸ªç©º repo å°±å¼€å§‹å†™äº†ï¼Œæƒ³ç€æ˜¯å†™ä¸œè¥¿é‡è¦ã€ç¯å¢ƒå•¥çš„éƒ½æ˜¯å…¶æ¬¡ã€‚ä¸èƒ½ç®—æ˜¯å†™æ–‡ç« ï¼Œå°±ç®—æ˜¯éšç¬”å†™ä¸ª worklog å§ï¼›å“ªå¤©æœ‰å¿ƒæƒ…å°±ç¾ç¾åŒ–ï¼Œç­‰æœ‰ç©ºäº†æä¸ª GitHub Pages publish ä¸€ä¸‹ã€‚ï¼ˆä¸Šæ¬¡æƒ³åšåšå®¢è¿˜æ˜¯ä¸ªåˆä¸­ç”Ÿï¼Œä¸ƒå…«å¹´éƒ½è¿‡å»äº†â€¦

## Steps

```bash
sudo apt install xrdp
sudo systemctl enable xrdp
sudo systemctl enable xrdp-sesman5
sudo echo "exec startplasma-x11" >> /etc/xrdp/startwm.sh # æœ€å¥½æ˜¯ vi æ·»åŠ åˆ°ç¬¬ä¸€è¡Œ
sudo systemctl restart xrdp
sudo systemctl restart xrdp-sesman
```

ä¹‹åæ³¨é”€ç™»å½•ã€è¿æ¥å³å¯ã€‚æ³¨æ„ï¼šxrdp ä¸å…è®¸æœ¬åœ°å’Œè¿œç¨‹åŒæ—¶ç™»å½•åŒä¸€ä¸ªç”¨æˆ·çš„ GUIã€‚

ç”±äºæˆ‘ä½¿ç”¨ Hyper-V + IPv6 å¤–ç½‘è®¿é—®ï¼Œéœ€è¦ç”¨å¦‚ä¸‹çš„é…ç½®è¿›è¡Œç«¯å£è½¬å‘ï¼š

``` powershell
netsh interface portproxy add v6tov4 listenport=33389 listenaddress=2001:*******:2333 connectport=3389 connectaddress=172.*.*.170    # Run as Administrator
```

```listenaddr``` æ˜¯å®¿ä¸»æœºå¤–ç½‘åœ°å€ï¼Œ```connectaddr``` æ˜¯è™šæ‹Ÿæœºå†…ç½‘åœ°å€ã€‚å¦‚æœæ˜¯ v4 åœºæ™¯ï¼Œå‚æ•°æ”¹ä¸º ```v4tov4``` å³å¯ã€‚

å¦‚æœä¾ç„¶ä¸é€šï¼Œè¯·åœ¨ Windows é˜²ç«å¢™ä¸­æ”¾è¡Œ ```svchost.exe```ã€‚

## è°ƒä¼˜

### HiDPI æ”¯æŒ

åœ¨ Mac RDP Client ä¸­é€‰æ‹©ä¼šè¯ï¼Œè¿›è¡Œè®¾ç½®ï¼š

* Color è®¾ç½®ä¸º High
* HiDPI ä¼˜åŒ–æ‰“å¼€

ä¹‹ååœ¨ KDE ä¸­è®¾ç½®ç¼©æ”¾ä¸º 200%ï¼Œé‡å¯åç”Ÿæ•ˆã€‚